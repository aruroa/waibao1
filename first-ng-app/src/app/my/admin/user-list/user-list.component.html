<p-messages [value]="msgs" [closable]="false"></p-messages>
<p-confirmPopup></p-confirmPopup>
<form [formGroup]="searchForm" (ngSubmit)="onSearch(s.name.value)" novalidate>
  <div class="card">
    <div class="form-group" [class.has-error]="searchForm.hasError('minlength','title')">
      <label for="productTitle"></label>
      <input formControlName="name"
             type="text" id="productTitle"
             placeholder="请输入要查找的姓名"
             class="form-control"
             pInputText>
      <p-button type="submit">搜索</p-button>
    </div>
  </div>
</form>

  <h1>用户列表</h1>
  <p-table [value]="users">
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="code" class="p-col-2">用户Id
          <p-sortIcon field="code"></p-sortIcon>
        </th>
        <th pSortableColumn="name" class="p-col-2">用户名
          <p-sortIcon field="name"></p-sortIcon>
        </th>
        <th pSortableColumn="category" class="p-col-2">手机号
          <p-sortIcon field="category"></p-sortIcon>
        </th>
        <th pSortableColumn="quantity" class="p-col-3">地址
          <p-sortIcon field="quantity"></p-sortIcon>
        </th>
        <th pSortableColumn="price" class="p-col-3">操作
          <p-sortIcon field="price"></p-sortIcon>
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-user>
      <tr>
        <td>{{user.id}}</td>
        <td>{{user.username}}</td>
        <td>{{user.phoneNum}}</td>
        <td>{{user.homeAddress}}</td>
        <td>
          <button pButton type="button" class="mr-1" (click)="viewUser(user.id)">View</button>
          <button pButton type="button" class="p-button-danger" (click)="deleteUser(user.id, $event)">Delete</button>
        </td>
      </tr>
    </ng-template>
  </p-table>

